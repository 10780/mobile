//package *
//Removed the original package name because it only would have worked on my computer
//I'll add it back in once this is done and I can compile it. Until then I apologize 

import android.content.Intent;
import android.content.Context;
import android.content.pm.PackageManager;
import android.graphics.Bitmap;
import android.hardware.Camera;
import android.provider.MediaStore;
import android.support.v7.app.ActionBarActivity;
import android.os.Bundle;
import android.content.pm.PackageInfo;
import android.view.SurfaceHolder;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.EditText;

/*App needs to be made as simple as possible for use, download and go
* Messages go out to all members or just to individual contacts, chain thing will be the big part
* Also need to figure out how to do photo/video fx stuff (like Instagram or some of the others, people like that)
*
* Figure out backend stuff
* so happy I finally found this again :)
*/

public class MainActivity extends ActionBarActivity {

    static final int REQUEST_IMAGE_CAPTURE = 1;
    ImageView trendPic;

    @Override
    protected void onCreate(Bundle savedInstanceState){
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        //Picture related components
        Button picButton = (Button) findViewById(R.id.picButton);
        trendPic = (ImageView) findViewById(R.id.trendPic);

        /*Disables camera if none is detected
         Most phones have cameras so this is a non-issue
        */

        if (!hasCamera())
            picButton.setEnabled(false);
    }

    //Detects camera
    private boolean hasCamera(){
        return getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_ANY);
    }

    //Launches camera
    public void launchCamera(View view){
        Intent intent = new Intent (MediaStore.ACTION_IMAGE_CAPTURE);
        //Takes picture
        startActivityForResult(intent, REQUEST_IMAGE_CAPTURE);
    }

    //Lets you return image taken
    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data){
        if (requestCode == REQUEST_IMAGE_CAPTURE && resultCode == RESULT_OK){
            //Gets photo
            Bundle extras = data.getExtras();
            Bitmap photo = (Bitmap) extras.get("data");
            trendPic.setImageBitmap(photo);
        }
    }

    //Allows you to add captions to pictures
    public void caption(){
        Button captionButton = (Button) findViewById(R.id.captionButton);
        final EditText picCaption = (EditText) findViewById(R.id.picCaption);

        captionButton.setOnClickListener((v) ->{
            picCaption.setText(picCaption.getText());
        });
    }
}
